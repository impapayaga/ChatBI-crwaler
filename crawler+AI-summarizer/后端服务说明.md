# åŽç«¯æœåŠ¡å¯åŠ¨è¯´æ˜Ž

## å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨APIæœåŠ¡
```bash
# å¯åŠ¨åŽç«¯APIæœåŠ¡
python main.py --mode api
```

**æœåŠ¡åœ°å€**: `http://localhost:8000`  
**APIæ–‡æ¡£**: `http://localhost:8000/docs` (Swagger UI)

### 2. ä½¿ç”¨å¯åŠ¨è„šæœ¬
```bash
# Windows
start.bat

# æˆ–ç›´æŽ¥åŒå‡» start.bat æ–‡ä»¶
```

## ðŸ“‹ æœåŠ¡çŠ¶æ€æ£€æŸ¥

### å¥åº·æ£€æŸ¥æŽ¥å£
```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
curl http://localhost:8000/api/stats

# æˆ–ä½¿ç”¨æµè§ˆå™¨è®¿é—®
http://localhost:8000/api/stats
```

### é¢„æœŸå“åº”
```json
{
  "total_policies": 23,
  "total_summaries": 22,
  "beijing_policies": 19,
  "guangdong_policies": 4
}
```



## ðŸ“¡ APIæŽ¥å£åˆ—è¡¨

| æŽ¥å£ | æ–¹æ³• | åœ°å€ | åŠŸèƒ½ |
|------|------|------|------|
| èŽ·å–æ”¿ç­–æ–‡ä»¶ | GET | `/api/policies` | èŽ·å–æ‰€æœ‰æ”¿ç­–æ–‡ä»¶æ•°æ® |
| èŽ·å–AIæ€»ç»“ | GET | `/api/summaries` | èŽ·å–AIæ€»ç»“æ•°æ® |
| èŽ·å–ç»Ÿè®¡ä¿¡æ¯ | GET | `/api/stats` | èŽ·å–æ•°æ®ç»Ÿè®¡ |
| å¯åŠ¨çˆ¬å– | POST | `/api/crawl` | æ‰‹åŠ¨è§¦å‘çˆ¬å–ä»»åŠ¡ |
| å¯åŠ¨AIæ€»ç»“ | POST | `/api/summarize` | æ‰‹åŠ¨è§¦å‘AIæ€»ç»“ä»»åŠ¡ |


## ðŸ“Š æ•°æ®è¯´æ˜Ž

### æ•°æ®æ¥æº
- **åŒ—äº¬å¸‚æ”¿åºœ**: äººå·¥æ™ºèƒ½ã€åŒ»ç–—å™¨æ¢°ã€ç”Ÿç‰©åŒ»è¯ç›¸å…³æ”¿ç­–
- **å¹¿ä¸œçœæ”¿åºœ**: äººå·¥æ™ºèƒ½ã€åŒ»ç–—å™¨æ¢°ã€ç”Ÿç‰©åŒ»è¯ç›¸å…³æ”¿ç­–

### æ•°æ®æ›´æ–°
- **è‡ªåŠ¨æ›´æ–°**: æ¯å‘¨ä¸€ä¸Šåˆ9ç‚¹è‡ªåŠ¨çˆ¬å–
- **æ‰‹åŠ¨æ›´æ–°**: é€šè¿‡APIæŽ¥å£æ‰‹åŠ¨è§¦å‘

### æ•°æ®æ ¼å¼
æ‰€æœ‰æ•°æ®ä»¥JSONæ ¼å¼è¿”å›žï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š
- æ”¿ç­–æ–‡ä»¶æ ‡é¢˜
- å‘å¸ƒå•ä½
- å‘å¸ƒæ—¥æœŸ
- æ•°æ®æ¥æº
- åŒ¹é…å…³é”®è¯
- æ”¿ç­–å†…å®¹
- åŽŸæ–‡é“¾æŽ¥


### CORSé…ç½®
åŽç«¯å·²é…ç½®CORSï¼Œæ”¯æŒè·¨åŸŸè¯·æ±‚ï¼Œå‰ç«¯å¯ä»¥ç›´æŽ¥è°ƒç”¨APIã€‚

### æ•°æ®å®‰å…¨
- æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°SQLiteæ•°æ®åº“


### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
python main.py --mode api 2>&1 | tee service.log
```

